<!doctype html>
<html>
<head>
<meta charset="utf-8">
<style>
*{ margin:0; padding:0; }
#box{ margin:0 auto; position:relative; width:184px; height:102px; border:1px solid #039; }
#box ul{ position:absolute; width:184px;  }
#box ul li{ opacity:0; filter:alpha(opacity=0); position:absolute; left:0; top:0; }

input{ position:absolute; top:58px; width:80px; height:30px; text-align:center; line-height:30px;   }
#btn1{ left:-100px;  }
#btn2{ right:-100px; }
</style>

<script>
window.onload=function()
{
	var oBox=document.getElementById('box');
	var oInput=oBox.getElementsByTagName('input');
	var oUl=oBox.getElementsByTagName('ul')[0];
	var aLi=oBox.children;
	var iNow=0;
	
	var timer=setInterval(auto,3000);
	//var iCur=getStyle(aLi[0],'opacity');
	//alert(iCur)
	function auto()
	{
		if(iNow==aLi.length-1)
		{
			iNow=0;
		}else
		{
			iNow++;
		}
		for(var i=0; i<aLi.length; i++)
		{
			fadeOut(aLi[i])
		}
		
		fadeIn(aLi[iNow])
	}
	
	
	function fadeIn(obj)
	{
		var iCur=getStyle(obj,'opacity');
		//alert(iCur)
		if(iCur==1){return false};
		var value = 0;
		clearInterval(obj.timer);
		obj.timer=setInterval(function()
		{
			var iSpeed=5;
			
			if(value==100)
			{
				clearInterval(obj.timer);
			}
			else
			{
				value+=iSpeed;
				obj.style.opacity=value/100;
				obj.style.filter = 'alpha(opacity='+value+')';
			}
		},30);
	}	
	function fadeOut(obj)
	{
		var iCur=getStyle(obj,'opacity');
		if(iCur==0){return false};
		var value = 100;
		clearInterval(obj.timer);
		obj.timer=setInterval(function()
		{
			var iSpeed=-5;
			
			if(value==0)
			{
				clearInterval(obj.timer);
			}
			else
			{
				value+=iSpeed;
				
				obj.style.opacity=value/100;
				obj.style.filter = 'alpha(opacity='+value+')';
			}
		},30);
	}	
}
	
			
		
function getStyle(obj,attr)
{
	if(obj.currentStyle)
	{
		return obj.currentStyle[attr];
	}else
	{
		return getComputedStyle(obj,false)[attr];
	}
}
</script>
<title>无标题文档</title>
</head>

<body>
<div id="box">

        <input type="button" value="pRev" id="btn1">
        
        <ul>
                <li style="filter:alpha(opacity=100); opacity:1; "><img src="img/bgSkin7.png"></li>
                <li><img src="img/bgSkin2.png"></li>
                <li><img src="img/bgSkin3.png"></li>
                <li><img src="img/bgSkin4.png" width="184" height="102"></li>
        </ul>
        
        <input type="button" value="nExt" id="btn2">

</div>
</body>
</html>
